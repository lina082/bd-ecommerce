Se desea diseñar la base de datos para una plataforma de comercio electrónico que permite a los usuarios registrarse, vender productos y realizar compras en línea.
En la plataforma existen usuarios, quienes deben registrarse proporcionando su nombre, apellido, documento, fecha de nacimiento y dirección. La dirección está compuesta por calle, ciudad, departamento y código postal. Un usuario puede registrar varios números de teléfono y varios correos electrónicos. Además, la edad del usuario no se almacena directamente, sino que se calcula a partir de su fecha de nacimiento.
Los usuarios se clasifican en dos tipos: clientes y vendedores. Todo usuario pertenece a uno de estos tipos. Los clientes pueden realizar pedidos y acumular puntos de fidelidad según sus compras. Los vendedores pueden publicar productos y cuentan con información adicional como nombre de la tienda, calificación y cuenta bancaria. Ambos tipos heredan la información general del usuario.
Los vendedores publican productos en la plataforma. Cada producto tiene nombre, descripción, precio, stock disponible, peso y dimensiones (alto, ancho y profundidad). Un vendedor puede publicar varios productos, pero cada producto pertenece a un solo vendedor.
Los clientes pueden realizar pedidos. Cada pedido tiene una fecha, un estado y un valor total, el cual se calcula automáticamente a partir de los productos incluidos. Un cliente puede realizar varios pedidos, pero cada pedido pertenece a un único cliente.
Cada pedido está compuesto por uno o varios productos. Para registrar esta información, se almacena el detalle del pedido, donde se indica la cantidad de cada producto y su precio unitario. El subtotal se calcula multiplicando la cantidad por el precio unitario. El detalle del pedido depende directamente del pedido al que pertenece.
Finalmente, cada pedido genera un pago. El pago registra la fecha, el monto, el método de pago y su estado. Cada pedido tiene un único pago asociado.